{
  "name":"Sleepwalking Fragrance",
  "description":"Control your output of your mist, placing anyone to sleep if inhaled for too long.",
  "badges":[
    {
      "type":"origins:keybind",
      "text":"Primary %s",
      "sprite":"origins:textures/gui/badge/active.png"
    },
    {
      "type":"origins:tooltip",
      "sprite":"origins:textures/gui/badge/info.png",
      "text":"The power of this depends on the state you have it set."
    }
  ],
  "type":"origins:multiple",
  "resource":{
    "type":"origins:resource",
    "min":0,
    "max":5,
    "hud_render":{
      "should_render":true,
      "sprite_location":"quirks:textures/gui/sprites/somnambulist/resource_bar_01.png",
      "bar_index":1
    },
    "start_value":0
  },
  "sound":{
    "type":"origins:action_over_time",
    "entity_action":{
      "type":"origins:play_sound",
      "sound":"quirks:somnambulist_mist",
      "volume":0.30,
      "pitch":1.00
    },
    "interval":6,
    "condition":{
      "type":"origins:resource",
      "resource":"quirks:somnambulist/mist_resource",
      "comparison":">=",
      "compare_to":1
    }
  },
  "aoesleep":{
    "type":"origins:action_over_time",
    "entity_action":{
      "type":"origins:if_else_list",
      "actions":[
        {
          "condition":{
            "type":"origins:resource",
            "resource":"quirks:somnambulist/mist_resource",
            "comparison":"==",
            "compare_to":1
          },
          "action":{
            "type":"origins:and",
            "actions":[
              {
                "type":"origins:area_of_effect",
                "radius":1.5,
                "shape":"sphere",
                "bientity_action":{
                  "type":"origins:target_action",
                  "action":{
                    "type":"origins:and",
                    "actions":[
                      {
                        "type":"origins:grant_power",
                        "power":"quirks:somnambulist/drowsy",
                        "source":"quirks:somnambulist/mist"
                      },
                      {
                        "type":"origins:if_else",
                        "condition":{
                          "type":"origins:power_active",
                          "power":"quirks:somnambulist/drowsy"
                        },
                        "if_action":{
                          "type":"origins:change_resource",
                          "change":80,
                          "operation":"set",
                          "resource":"quirks:somnambulist/drowsy_resource"
                        },
                        "else_action":{
                          "type":"origins:nothing"
                        }
                      }
                    ]
                  }
                }
              },
              {
                "type":"origins:execute_command",
                "command":"particle minecraft:dust 18000000 0.9 18000000 3 ~ ~ ~ 0.8 1.1 0.8 0 30 normal"
              }
            ]
          }
        },
        {
          "condition":{
            "type":"origins:resource",
            "resource":"quirks:somnambulist/mist_resource",
            "compare_to":2,
            "comparison":"=="
          },
          "action":{
            "type":"origins:and",
            "actions":[
              {
                "type":"origins:area_of_effect",
                "radius":2,
                "shape":"sphere",
                "bientity_action":{
                  "type":"origins:target_action",
                  "action":{
                    "type":"origins:and",
                    "actions":[
                      {
                        "type":"origins:grant_power",
                        "power":"quirks:somnambulist/drowsy",
                        "source":"quirks:somnambulist/mist"
                      },
                      {
                        "type":"origins:if_else",
                        "condition":{
                          "type":"origins:power_active",
                          "power":"quirks:somnambulist/drowsy"
                        },
                        "if_action":{
                          "type":"origins:change_resource",
                          "change":80,
                          "operation":"set",
                          "resource":"quirks:somnambulist/drowsy_resource"
                        },
                        "else_action":{
                          "type":"origins:nothing"
                        }
                      }
                    ]
                  }
                }
              },
              {
                "type":"origins:execute_command",
                "command":"particle minecraft:dust 18000000 0.9 18000000 4 ~ ~ ~ 1.4 1.4 1.4 0 50 normal"
              }
            ]
          }
        },
        {
          "condition":{
            "type":"origins:resource",
            "resource":"quirks:somnambulist/mist_resource",
            "compare_to":3,
            "comparison":"=="
          },
          "action":{
            "type":"origins:and",
            "actions":[
              {
                "type":"origins:area_of_effect",
                "radius":4,
                "shape":"sphere",
                "bientity_action":{
                  "type":"origins:target_action",
                  "action":{
                    "type":"origins:and",
                    "actions":[
                      {
                        "type":"origins:grant_power",
                        "power":"quirks:somnambulist/drowsy",
                        "source":"quirks:somnambulist/mist"
                      },
                      {
                        "type":"origins:if_else",
                        "condition":{
                          "type":"origins:power_active",
                          "power":"quirks:somnambulist/drowsy"
                        },
                        "if_action":{
                          "type":"origins:change_resource",
                          "change":80,
                          "operation":"set",
                          "resource":"quirks:somnambulist/drowsy_resource"
                        },
                        "else_action":{
                          "type":"origins:nothing"
                        }
                      }
                    ]
                  }
                }
              },
              {
                "type":"origins:execute_command",
                "command":"particle minecraft:dust 18000000 0.9 18000000 4 ~ ~ ~ 2 1.6 2 0 60 normal"
              }
            ]
          }
        },
        {
          "condition":{
            "type":"origins:resource",
            "resource":"quirks:somnambulist/mist_resource",
            "compare_to":4,
            "comparison":"=="
          },
          "action":{
            "type":"origins:and",
            "actions":[
              {
                "type":"origins:area_of_effect",
                "radius":6,
                "shape":"sphere",
                "bientity_action":{
                  "type":"origins:target_action",
                  "action":{
                    "type":"origins:and",
                    "actions":[
                      {
                        "type":"origins:grant_power",
                        "power":"quirks:somnambulist/drowsy",
                        "source":"quirks:somnambulist/mist"
                      },
                      {
                        "type":"origins:if_else",
                        "condition":{
                          "type":"origins:power_active",
                          "power":"quirks:somnambulist/drowsy"
                        },
                        "if_action":{
                          "type":"origins:change_resource",
                          "change":80,
                          "operation":"set",
                          "resource":"quirks:somnambulist/drowsy_resource"
                        },
                        "else_action":{
                          "type":"origins:nothing"
                        }
                      }
                    ]
                  }
                }
              },
              {
                "type":"origins:execute_command",
                "command":"particle minecraft:dust 18000000 0.9 18000000 4 ~ ~ ~ 2.7 1.8 2.7 0 80 normal"
              }
            ]
          }
        },
        {
          "condition":{
            "type":"origins:resource",
            "resource":"quirks:somnambulist/mist_resource",
            "compare_to":5,
            "comparison":"=="
          },
          "action":{
            "type":"origins:and",
            "actions":[
              {
                "type":"origins:area_of_effect",
                "radius":8,
                "shape":"sphere",
                "bientity_action":{
                  "type":"origins:target_action",
                  "action":{
                    "type":"origins:and",
                    "actions":[
                      {
                        "type":"origins:grant_power",
                        "power":"quirks:somnambulist/drowsy",
                        "source":"quirks:somnambulist/mist"
                      },
                      {
                        "type":"origins:if_else",
                        "condition":{
                          "type":"origins:power_active",
                          "power":"quirks:somnambulist/drowsy"
                        },
                        "if_action":{
                          "type":"origins:change_resource",
                          "change":80,
                          "operation":"set",
                          "resource":"quirks:somnambulist/drowsy_resource"
                        },
                        "else_action":{
                          "type":"origins:nothing"
                        }
                      }
                    ]
                  }
                }
              },
              {
                "type":"origins:execute_command",
                "command":"particle minecraft:dust 18000000 0.9 18000000 4 ~ ~ ~ 3.4 2 3.4 0 100 normal"
              }
            ]
          }
        }
      ]
    },
    "interval":2,
    "condition":{
      "type":"origins:resource",
      "resource":"quirks:universal/quirk_erased",
      "comparison":"==",
      "compare_to":0
    }
  },
  "swap":{
    "type":"origins:active_self",
    "cooldown":5,
    "hud_render":{
      "should_render":false
    },
    "key":{
      "key":"key.quirks.primary",
      "continuous":true
    },
    "entity_action":{
      "type":"origins:if_else",
      "condition":{
        "type":"origins:sneaking",
        "inverted":true
      },
      "if_action":{
        "type":"origins:change_resource",
        "change":1,
        "operation":"add",
        "resource":"quirks:somnambulist/mist_resource"
      },
      "else_action":{
        "type":"origins:change_resource",
        "change":-1,
        "operation":"add",
        "resource":"quirks:somnambulist/mist_resource"
      }
    }
  }
}