{
   "type": "origins:multiple",
  "count": {
    "type": "origins:resource",
    "min": 0,
    "max": 5,
    "hud_render": {
      "should_render": true,
      "sprite_location": "quirks:textures/gui/sprites/invisibility/resource_bar_01.png",
      "bar_index": 0,
      "condition": {
        "type": "origins:resource",
        "resource": "quirks:invisibility/fractal_redirection_cooldown",
        "comparison": "==",
        "compare_to": 0
      }
    },
    "max_action": {
      "type": "origins:and",
      "actions": [
        {
          "type": "origins:trigger_cooldown",
          "power": "quirks:invisibility/fractal_redirection_cooldown"
        },
        {
          "type": "origins:change_resource",
          "resource": "quirks:invisibility/fractal_redirection_count",
          "change": 0,
          "operation": "set"
        }
      ]
    }
  },
  "cooldown": {
    "type": "origins:cooldown",
    "hud_render": {
      "inverted": true,
      "sprite_location": "quirks:textures/gui/sprites/invisibility/resource_bar_01.png",
      "bar_index": 1
    },
    "cooldown": 200
  },
   "beam": {
      "type": "origins:active_self",
      "entity_action": {
         "type": "origins:and",
         "actions": [
            {
               "type": "origins:raycast",
               "bientity_action": {
                 "type": "origins:target_action",
                 "action": {
                   "type": "origins:apply_effect",
                   "effect": {
                     "effect": "quirks:blinded",
                     "duration": 100,
                     "amplifier": 0,
                     "is_ambient": false,
                     "show_particles": false,
                     "show_icon": true
                   }
                 }
               },
               "before_action": {
                 "type": "origins:execute_command",
                 "command": "playsound quirks:invisibility.combat player @a[distance=..6] ~ ~ ~ 1 2"
               },
               "distance": 40,
               "shape_type": "collider",
               "fluid_handling": "none",
               "block": true,
               "entity": true,
               "command_along_ray": "function quirks:invisibility/fractal_redirection",
               "command_along_ray_only_on_hit": false,
               "command_step": 0.5
            },
            {
               "type": "origins:change_resource",
               "resource": "quirks:invisibility/fractal_redirection_count",
               "change": 1,
               "operation": "add"
            }
         ]
      },
     "cooldown": 3,
     "hud_render": {
       "should_render": false
     },
      "key": {
         "key": "key.quirks.ternary",
         "continuous": true
      },
     "condition": {
       "type": "origins:and",
       "conditions": [
         {
           "type": "origins:power_active",
           "power": "quirks:invisibility/spectral_signature_toggle"
         },
         {
           "type": "origins:resource",
           "resource": "quirks:universal/quirk_erased",
           "comparison": "==",
           "compare_to": 0
         },
         {
           "type": "origins:resource",
           "resource": "quirks:invisibility/fractal_redirection_cooldown",
           "comparison": "==",
           "compare_to": 0
         }
       ]
     }
   }
}