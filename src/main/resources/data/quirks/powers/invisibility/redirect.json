{
   "name": "Fractal Redirection",
   "description": "Redirect nearby light from your hands, blinding whatever you hit. This can be held down for a total of 5 beams.",
   "badges": [
      {
         "type": "origins:keybind",
         "sprite": "origins:textures/gui/badge/toggle.png",
         "text": "Ternary %s"
      }
   ],
   "type": "origins:multiple",
   "beam": {
      "type": "origins:active_self",
      "condition": {
         "type": "origins:and",
         "conditions": [
            {
               "type": "origins:power_active",
               "power": "powert:mha/invisibility/stealth_toggle"
            },
            {
               "type": "origins:resource",
               "resource": "powert:mha/universal/quirk_erased",
               "compare_to": 0,
               "comparison": "=="
            },
            {
               "type": "origins:resource",
               "compare_to": 0,
               "comparison": "==",
               "resource": "powert:mha/invisibility/redirect_cooldown"
            }
         ]
      },
      "hud_render": {
         "should_render": false
      },
      "cooldown": 3,
      "entity_action": {
         "type": "origins:and",
         "actions": [
            {
               "type": "origins:raycast",
               "bientity_action": {
                  "type": "origins:and",
                  "actions": [
                     {
                        "type": "origins:target_action",
                        "action": {
                           "type": "origins:grant_power",
                           "power": "powert:mha/invisibility/blinded",
                           "source": "powert:mha/invisibility/redirect"
                        }
                     }
                  ]
               },
               "before_action": {
                  "type": "origins:and",
                  "actions": [
                     {
                        "type": "origins:execute_command",
                        "command": "playsound quirks:invisibility.combat player @a[distance=..6] ~ ~ ~ 1 2"
                     }
                  ]
               },
               "distance": 40,
               "shape_type": "collider",
               "fluid_handling": "none",
               "block": true,
               "entity": true,
               "command_along_ray": "function powert:mha/invisibility/redirect",
               "command_along_ray_only_on_hit": false,
               "command_step": 0.5
            },
            {
               "type": "origins:change_resource",
               "resource": "powert:mha/invisibility/redirect_count",
               "change": 1,
               "operation": "add"
            }
         ]
      },
      "key": {
         "key": "key.origins.ternary_active",
         "continuous": true
      }
   },
   "count": {
      "type": "origins:resource",
      "min": 0,
      "max": 5,
      "hud_render": {
         "should_render": true,
         "sprite_location": "powert:textures/gui/sprites/invisibility/resource_bar_01.png",
         "bar_index": 0,
         "condition": {
            "type": "origins:resource",
            "compare_to": 0,
            "comparison": "==",
            "resource": "powert:mha/invisibility/redirect_cooldown"
         }
      },
      "max_action": {
         "type": "origins:and",
         "actions": [
            {
               "type": "origins:trigger_cooldown",
               "power": "powert:mha/invisibility/redirect_cooldown"
            },
            {
               "type": "origins:change_resource",
               "change": 0,
               "operation": "set",
               "resource": "powert:mha/invisibility/redirect_count"
            }
         ]
      }
   },
   "cooldown": {
      "type": "origins:cooldown",
      "hud_render": {
         "sprite_location": "powert:textures/gui/sprites/invisibility/resource_bar_01.png",
         "bar_index": 1,
         "inverted": true
      },
      "cooldown": 200
   }
}