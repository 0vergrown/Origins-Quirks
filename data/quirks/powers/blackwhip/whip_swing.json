{
   "type":"origins:multiple",
   "actor_set":{
      "type":"origins:entity_set",
      "action_on_add":{
         "type":"origins:target_action",
         "action":{
            "type":"origins:grant_power",
            "power":"quirks:blackwhip/hook",
            "source":"quirks:blackwhip/hook"
         }
      },
      "action_on_remove":{
         "type":"origins:target_action",
         "action":{
            "type":"origins:and",
            "actions":[
               {
                  "type":"origins:revoke_power",
                  "power":"quirks:blackwhip/hook",
                  "source":"quirks:blackwhip/hook"
               },
               {
                  "type":"origins:delay",
                  "action":{
                     "type":"origins:execute_command",
                     "command":"kill @s"
                  },
                  "ticks":1
               }
            ]
         }
      }
   },
   "active":{
      "type":"origins:active_self",
      "entity_action":{
         "type":"origins:if_else",
         "condition":{
            "type":"origins:all_of",
            "conditions":[
               {
                  "type":"origins:entity_set_size",
                  "set":"quirks:blackwhip/whip_swing_actor_set",
                  "comparison":">",
                  "compare_to":0
               },
               {
                  "type":"apoli:entity_in_radius",
                  "bientity_condition":{
                     "type":"origins:target_condition",
                     "condition":{
                        "type":"origins:entity_type",
                        "entity_type":"minecraft:bat"
                     }
                  },
                  "shape":"cube",
                  "radius":27.50,
                  "comparison":">",
                  "compare_to":0
               }
            ]
         },
         "if_action":{
            "type":"origins:action_on_entity_set",
            "set":"quirks:blackwhip/whip_swing_actor_set",
            "bientity_action":{
               "type":"origins:remove_from_entity_set",
               "set":"quirks:blackwhip/whip_swing_actor_set"
            },
            "limit":0,
            "reverse":false
         },
         "else_action":{
            "type":"origins:raycast",
            "distance":25.00,
            "block":true,
            "entity":false,
            "shape_type":"collider",
            "fluid_handling":"none",
            "block_action":{
               "type":"origins:spawn_entity",
               "entity_type":"minecraft:bat",
               "tag":"{Silent:1b,Invulnerable:1b,NoAI:1b}"
            },
            "hit_action":{
               "type":"origins:and",
               "actions":[
                  {
                     "type":"origins:play_sound",
                     "sound":"minecraft:block.dispenser.launch",
                     "category":"master",
                     "volume":0.40,
                     "pitch":0.60
                  },
                  {
                     "type":"origins:delay",
                     "action":{
                        "type":"origins:area_of_effect",
                        "radius":64.00,
                        "shape":"cube",
                        "bientity_action":{
                           "type":"origins:add_to_entity_set",
                           "set":"quirks:blackwhip/whip_swing_actor_set"
                        },
                        "bientity_condition":{
                           "type":"origins:all_of",
                           "conditions":[
                              {
                                 "type":"origins:in_entity_set",
                                 "set":"quirks:blackwhip/whip_swing_actor_set",
                                 "inverted":true
                              },
                              {
                                 "type":"origins:target_condition",
                                 "condition":{
                                    "type":"origins:entity_type",
                                    "entity_type":"minecraft:bat"
                                 }
                              }
                           ]
                        },
                        "include_actor":false
                     },
                     "ticks":1
                  }
               ]
            },
            "command_step":1.00,
            "command_along_ray_only_on_hit":false
         }
      },
      "cooldown":1,
      "hud_render":{
         "should_render":false
      },
      "key":{
         "key":"key.origins.primary_active",
         "continuous":false
      }
   },
   "slow_falling":{
      "type":"origins:modify_falling",
      "velocity":0.04,
      "take_fall_damage":false,
      "condition":{
         "type":"origins:all_of",
         "conditions":[
            {
               "type":"origins:entity_set_size",
               "set":"quirks:blackwhip/whip_swing_actor_set",
               "comparison":">",
               "compare_to":0
            },
            {
               "type":"apoli:entity_in_radius",
               "bientity_condition":{
                  "type":"origins:target_condition",
                  "condition":{
                     "type":"origins:entity_type",
                     "entity_type":"minecraft:bat"
                  }
               },
               "shape":"cube",
               "radius":27.50,
               "comparison":">",
               "compare_to":0
            }
         ]
      }
   },
   "pull":{
      "type":"origins:action_over_time",
      "entity_action":{
         "type":"origins:and",
         "actions":[
            {
               "type":"origins:selector_action",
               "selector":"@e[type = minecraft:bat,distance=7.5..27.5]",
               "bientity_action":{
                  "type":"origins:and",
                  "actions":[
                     {
                        "type":"origins:actor_action",
                        "action":{
                           "type":"origins:execute_command",
                           "command":"execute as @s at @e[type=minecraft:bat,distance=7.5..27.5,limit=1] run teleport @e[distance=0] ~ ~ ~ facing entity @s"
                        }
                     },
                     {
                        "type":"origins:invert",
                        "action":{
                           "type":"origins:if_else",
                           "condition":{
                              "type":"origins:target_condition",
                              "condition":{
                                 "type":"origins:sneaking"
                              }
                           },
                           "if_action":{
                              "type":"origins:add_velocity",
                              "x":0.00,
                              "y":0.00,
                              "z":-0.035,
                              "reference":"position",
                              "set":false
                           },
                           "else_action":{
                              "type":"origins:add_velocity",
                              "x":0.00,
                              "y":0.00,
                              "z":-0.10,
                              "reference":"position",
                              "set":false
                           }
                        }
                     }
                  ]
               },
               "bientity_condition":{
                  "type":"origins:all_of",
                  "conditions":[
                     {
                        "type":"origins:in_entity_set",
                        "set":"quirks:blackwhip/whip_swing_actor_set"
                     },
                     {
                        "type":"origins:target_condition",
                        "condition":{
                           "type":"origins:entity_type",
                           "entity_type":"minecraft:bat"
                        }
                     }
                  ]
               }
            }
         ]
      },
      "interval":1,
      "condition":{
         "type":"origins:all_of",
         "conditions":[
            {
               "type":"origins:entity_set_size",
               "set":"quirks:blackwhip/whip_swing_actor_set",
               "comparison":">",
               "compare_to":0
            },
            {
               "type":"apoli:entity_in_radius",
               "bientity_condition":{
                  "type":"origins:target_condition",
                  "condition":{
                     "type":"origins:entity_type",
                     "entity_type":"minecraft:bat"
                  }
               },
               "shape":"cube",
               "radius":27.50,
               "comparison":">",
               "compare_to":0
            }
         ]
      }
   },
   "forward":{
      "type":"origins:active_self",
      "entity_action":{
         "type":"origins:add_velocity",
         "x":0.00,
         "y":0.00,
         "z":0.05,
         "space":"local",
         "set":false
      },
      "cooldown":1,
      "hud_render":{
         "should_render":false
      },
      "key":{
         "key":"key.forward",
         "continuous":true
      },
      "condition":{
         "type":"origins:all_of",
         "conditions":[
            {
               "type":"origins:entity_set_size",
               "set":"quirks:blackwhip/whip_swing_actor_set",
               "comparison":">",
               "compare_to":0
            },
            {
               "type":"apoli:entity_in_radius",
               "bientity_condition":{
                  "type":"origins:target_condition",
                  "condition":{
                     "type":"origins:entity_type",
                     "entity_type":"minecraft:bat"
                  }
               },
               "shape":"cube",
               "radius":27.50,
               "comparison":">",
               "compare_to":0
            }
         ]
      }
   },
   "back":{
      "type":"origins:active_self",
      "entity_action":{
         "type":"origins:add_velocity",
         "x":0.00,
         "y":0.00,
         "z":-0.05,
         "space":"local",
         "set":false
      },
      "cooldown":1,
      "hud_render":{
         "should_render":false
      },
      "key":{
         "key":"key.back",
         "continuous":true
      },
      "condition":{
         "type":"origins:all_of",
         "conditions":[
            {
               "type":"origins:entity_set_size",
               "set":"quirks:blackwhip/whip_swing_actor_set",
               "comparison":">",
               "compare_to":0
            },
            {
               "type":"apoli:entity_in_radius",
               "bientity_condition":{
                  "type":"origins:target_condition",
                  "condition":{
                     "type":"origins:entity_type",
                     "entity_type":"minecraft:bat"
                  }
               },
               "shape":"cube",
               "radius":27.50,
               "comparison":">",
               "compare_to":0
            }
         ]
      }
   },
   "left":{
      "type":"origins:active_self",
      "entity_action":{
         "type":"origins:add_velocity",
         "x":0.05,
         "y":0.00,
         "z":0.00,
         "space":"local",
         "set":false
      },
      "key":{
         "key":"key.left",
         "continuous":true
      },
      "condition":{
         "type":"origins:all_of",
         "conditions":[
            {
               "type":"origins:entity_set_size",
               "set":"quirks:blackwhip/whip_swing_actor_set",
               "comparison":">",
               "compare_to":0
            },
            {
               "type":"apoli:entity_in_radius",
               "bientity_condition":{
                  "type":"origins:target_condition",
                  "condition":{
                     "type":"origins:entity_type",
                     "entity_type":"minecraft:bat"
                  }
               },
               "shape":"cube",
               "radius":27.50,
               "comparison":">",
               "compare_to":0
            }
         ]
      }
   },
   "right":{
      "type":"origins:active_self",
      "entity_action":{
         "type":"origins:add_velocity",
         "x":-0.05,
         "y":0.00,
         "z":0.00,
         "space":"local",
         "set":false
      },
      "cooldown":1,
      "hud_render":{
         "should_render":false
      },
      "key":{
         "key":"key.right",
         "continuous":true
      },
      "condition":{
         "type":"origins:all_of",
         "conditions":[
            {
               "type":"origins:entity_set_size",
               "set":"quirks:blackwhip/whip_swing_actor_set",
               "comparison":">",
               "compare_to":0
            },
            {
               "type":"apoli:entity_in_radius",
               "bientity_condition":{
                  "type":"origins:target_condition",
                  "condition":{
                     "type":"origins:entity_type",
                     "entity_type":"minecraft:bat"
                  }
               },
               "shape":"cube",
               "radius":27.50,
               "comparison":">",
               "compare_to":0
            }
         ]
      }
   },
   "up":{
      "type":"origins:active_self",
      "entity_action":{
         "type":"origins:selector_action",
         "selector":"@n[type=minecraft:bat,distance=1..7.5,limit=1]",
         "bientity_action":{
            "type":"origins:invert",
            "action":{
               "type":"origins:add_velocity",
               "x":0.00,
               "y":0.00,
               "z":-0.10,
               "reference":"position",
               "set":false
            }
         },
         "bientity_condition":{
            "type":"origins:all_of",
            "conditions":[
               {
                  "type":"origins:in_entity_set",
                  "set":"quirks:blackwhip/whip_swing_actor_set"
               },
               {
                  "type":"origins:target_condition",
                  "condition":{
                     "type":"origins:entity_type",
                     "entity_type":"minecraft:bat"
                  }
               }
            ]
         }
      },
      "cooldown":1,
      "hud_render":{
         "should_render":false
      },
      "key":{
         "key":"key.jump",
         "continuous":true
      },
      "condition":{
         "type":"origins:all_of",
         "conditions":[
            {
               "type":"origins:entity_set_size",
               "set":"quirks:blackwhip/whip_swing_actor_set",
               "comparison":">",
               "compare_to":0
            },
            {
               "type":"apoli:entity_in_radius",
               "bientity_condition":{
                  "type":"origins:target_condition",
                  "condition":{
                     "type":"origins:entity_type",
                     "entity_type":"minecraft:bat"
                  }
               },
               "shape":"cube",
               "radius":7.50,
               "comparison":">",
               "compare_to":0
            }
         ]
      }
   }
}