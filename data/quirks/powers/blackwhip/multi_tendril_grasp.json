{
    "type":"origins:multiple",
    "actor_set":{
       "type":"origins:entity_set",
       "action_on_remove":{
          "type":"origins:target_action",
          "action":{
             "type":"origins:execute_command",
             "command":"kill @s"
          }
       }
    },
    "active":{
       "type":"origins:active_self",
       "entity_action":{
          "type":"origins:if_else",
          "condition":{
             "type":"origins:entity_set_size",
             "set":"quirks:blackwhip/multi_tendril_grasp_actor_set",
             "comparison":"==",
             "compare_to":0
          },
          "if_action":{
             "type":"origins:raycast",
             "distance":25.00,
             "block":false,
             "entity":true,
             "shape_type":"collider",
             "fluid_handling":"none",
             "bientity_condition":{
                "type":"origins:target_condition",
                "condition":{
                   "type":"origins:living"
                }
             },
             "bientity_action":{
                "type":"origins:target_action",
                "action":{
                   "type":"origins:spawn_entity",
                   "entity_type":"minecraft:armor_stand",
                   "tag":"{Silent:1b,Invulnerable:1b,Marker:1b,Invisible:1b,DisabledSlots:4144959}",
                   "entity_action":{
                      "type":"origins:execute_command",
                      "command":"tag @s add blackwhip.multi_tendril_grasp_target"
                   }
                }
             },
             "hit_action":{
                "type":"origins:and",
                "actions":[
                   {
                      "type":"origins:swing_hand",
                      "hand":"MAIN_HAND"
                   },
                   {
                      "type":"origins:play_sound",
                      "sound":"minecraft:item.crossbow.shoot",
                      "category":"players",
                      "volume":0.20,
                      "pitch":1.60
                   },
                   {
                      "type":"origins:play_sound",
                      "sound":"minecraft:entity.phantom.bite",
                      "category":"players",
                      "volume":1.00,
                      "pitch":2.00
                   },
                   {
                      "type":"origins:delay",
                      "action":{
                         "type":"origins:area_of_effect",
                         "radius":64.00,
                         "shape":"cube",
                         "bientity_action":{
                            "type":"origins:add_to_entity_set",
                            "set":"quirks:blackwhip/multi_tendril_grasp_actor_set"
                         },
                         "bientity_condition":{
                            "type":"origins:all_of",
                            "conditions":[
                               {
                                  "type":"origins:in_entity_set",
                                  "set":"quirks:blackwhip/multi_tendril_grasp_actor_set",
                                  "inverted":true
                               },
                               {
                                  "type":"origins:target_condition",
                                  "condition":{
                                     "type":"origins:all_of",
                                     "conditions":[
                                        {
                                           "type":"origins:entity_type",
                                           "entity_type":"minecraft:armor_stand"
                                        },
                                        {
                                           "type":"apoli:has_command_tag",
                                           "command_tag":"blackwhip.multi_tendril_grasp_target"
                                        }
                                     ]
                                  }
                               }
                            ]
                         },
                         "include_actor":false
                      },
                      "ticks":1
                   }
                ]
             },
             "command_step":1.00,
             "command_along_ray_only_on_hit":false
          },
          "else_action":{
             "type":"origins:and",
             "actions":[
                {
                   "type":"origins:play_sound",
                   "sound":"minecraft:block.tripwire.detach",
                   "category":"master",
                   "volume":1.00,
                   "pitch":1.60
                },
                {
                   "type":"origins:action_on_entity_set",
                   "set":"quirks:blackwhip/multi_tendril_grasp_actor_set",
                   "bientity_action":{
                      "type":"origins:remove_from_entity_set",
                      "set":"quirks:blackwhip/multi_tendril_grasp_actor_set"
                   },
                   "limit":0,
                   "reverse":false
                }
             ]
          }
       },
       "cooldown":1,
       "hud_render":{
          "should_render":false
       },
       "key":{
          "key":"key.origins.primary_active",
          "continuous":false
       },
       "condition":{
          "type":"origins:resource",
          "resource":"quirks:blackwhip/move_selector_resource",
          "comparison":"==",
          "compare_to":3
       }
    },
    "target_effects":{
       "type":"origins:action_over_time",
       "entity_action":{
          "type":"origins:and",
          "actions":[
             {
                "type":"origins:execute_command",
                "command":"execute as @n[type=minecraft:armor_stand,limit=1,tag=blackwhip.multi_tendril_grasp_target] at @s anchored eyes facing entity @p eyes run tp @s ~ ~ ~ ~ ~"
             },
             {
                "type":"origins:action_on_entity_set",
                "set":"quirks:blackwhip/multi_tendril_grasp_actor_set",
                "bientity_action":{
                   "type":"origins:target_action",
                   "action":{
                      "type":"origins:if_else",
                      "condition":{
                         "type":"apoli:entity_in_radius",
                         "bientity_condition":{
                            "type":"origins:all_of",
                            "conditions":[
                               {
                                  "type":"origins:invert",
                                  "condition":{
                                     "type":"origins:in_entity_set",
                                     "set":"quirks:blackwhip/multi_tendril_grasp_actor_set"
                                  }
                               },
                               {
                                  "type":"origins:target_condition",
                                  "condition":{
                                     "type":"origins:entity_type",
                                     "entity_type":"minecraft:player"
                                  }
                               }
                            ]
                         },
                         "shape":"cube",
                         "radius":27.50,
                         "comparison":"==",
                         "compare_to":1
                      },
                      "if_action":{
                         "type":"origins:and",
                         "actions":[
                            {
                               "type":"origins:execute_command",
                               "command":"execute at @s positioned ~ ~1 ~ run function quirks:blackwhip/multi_tendril_grasp_particles"
                            },
                            {
                               "type":"origins:raycast",
                               "distance":27.50,
                               "block":false,
                               "entity":true,
                               "shape_type":"visual",
                               "fluid_handling":"any",
                               "bientity_condition":{
                                  "type":"origins:all_of",
                                  "conditions":[
                                     {
                                        "type":"origins:invert",
                                        "condition":{
                                           "type":"origins:in_entity_set",
                                           "set":"quirks:blackwhip/multi_tendril_grasp_actor_set"
                                        }
                                     },
                                     {
                                        "type":"origins:target_condition",
                                        "condition":{
                                           "type":"origins:entity_type",
                                           "entity_type":"minecraft:player"
                                        }
                                     }
                                  ]
                               },
                               "command_along_ray":"particle minecraft:dust_color_transition{from_color:[0.07,0.55,0.4],to_color:[0.08,0.53,0.56],scale:1} ~-0.39 ~ ~ 0 0 0 0.01 1 normal @a",
                               "command_step":0.50,
                               "command_along_ray_only_on_hit":true
                            },
                            {
                               "type":"origins:raycast",
                               "distance":27.50,
                               "block":false,
                               "entity":true,
                               "shape_type":"visual",
                               "fluid_handling":"any",
                               "bientity_condition":{
                                  "type":"origins:all_of",
                                  "conditions":[
                                     {
                                        "type":"origins:invert",
                                        "condition":{
                                           "type":"origins:in_entity_set",
                                           "set":"quirks:blackwhip/multi_tendril_grasp_actor_set"
                                        }
                                     },
                                     {
                                        "type":"origins:target_condition",
                                        "condition":{
                                           "type":"origins:entity_type",
                                           "entity_type":"minecraft:player"
                                        }
                                     }
                                  ]
                               },
                               "command_along_ray":"particle minecraft:dust_color_transition{from_color:[0.0,0.0,0.0],to_color:[0.22,0.27,0.28],scale:1} ~ ~ ~ 0 0 0 0.01 1 normal @a",
                               "command_step":0.50,
                               "command_along_ray_only_on_hit":true
                            },
                            {
                               "type":"origins:raycast",
                               "distance":27.50,
                               "block":false,
                               "entity":true,
                               "shape_type":"visual",
                               "fluid_handling":"any",
                               "bientity_condition":{
                                  "type":"origins:all_of",
                                  "conditions":[
                                     {
                                        "type":"origins:invert",
                                        "condition":{
                                           "type":"origins:in_entity_set",
                                           "set":"quirks:blackwhip/multi_tendril_grasp_actor_set"
                                        }
                                     },
                                     {
                                        "type":"origins:target_condition",
                                        "condition":{
                                           "type":"origins:entity_type",
                                           "entity_type":"minecraft:player"
                                        }
                                     }
                                  ]
                               },
                               "command_along_ray":"particle minecraft:dust_color_transition{from_color:[0.07,0.55,0.4],to_color:[0.08,0.53,0.56],scale:1} ~0.39 ~ ~ 0 0 0 0.01 1 normal @a",
                               "command_step":0.50,
                               "command_along_ray_only_on_hit":true
                            },
                            {
                               "type":"origins:area_of_effect",
                               "radius":2.00,
                               "shape":"cube",
                               "bientity_action":{
                                  "type":"origins:target_action",
                                  "action":{
                                     "type":"origins:apply_effect",
                                     "effects":[
                                        {
                                           "id":"minecraft:jump_boost",
                                           "duration":100,
                                           "amplifier":199,
                                           "ambient":true,
                                           "show_particles":false,
                                           "show_icon":true
                                        },
                                        {
                                           "id":"minecraft:slowness",
                                           "duration":100,
                                           "amplifier":199,
                                           "ambient":true,
                                           "show_particles":false,
                                           "show_icon":true
                                        }
                                     ]
                                  }
                               },
                               "bientity_condition":{
                                  "type":"origins:in_entity_set",
                                  "set":"quirks:blackwhip/multi_tendril_grasp_actor_set",
                                  "inverted":true
                               },
                               "include_actor":false
                            }
                         ]
                      },
                      "else_action":{
                         "type":"origins:and",
                         "actions":[
                            {
                               "type":"origins:play_sound",
                               "sound":"minecraft:block.tripwire.detach",
                               "category":"master",
                               "volume":1.00,
                               "pitch":1.60
                            },
                            {
                               "type":"origins:action_on_entity_set",
                               "set":"quirks:blackwhip/multi_tendril_grasp_actor_set",
                               "bientity_action":{
                                  "type":"origins:remove_from_entity_set",
                                  "set":"quirks:blackwhip/multi_tendril_grasp_actor_set"
                               },
                               "limit":0,
                               "reverse":false
                            }
                         ]
                      }
                   }
                },
                "bientity_condition":{
                   "type":"origins:all_of",
                   "conditions":[
                      {
                         "type":"origins:in_entity_set",
                         "set":"quirks:blackwhip/multi_tendril_grasp_actor_set"
                      },
                      {
                         "type":"origins:target_condition",
                         "condition":{
                            "type":"origins:all_of",
                            "conditions":[
                               {
                                  "type":"origins:entity_type",
                                  "entity_type":"minecraft:armor_stand"
                               },
                               {
                                  "type":"apoli:has_command_tag",
                                  "command_tag":"blackwhip.multi_tendril_grasp_target"
                               }
                            ]
                         }
                      }
                   ]
                }
             }
          ]
       },
       "interval":1,
       "condition":{
          "type":"origins:entity_set_size",
          "set":"quirks:blackwhip/multi_tendril_grasp_actor_set",
          "comparison":"==",
          "compare_to":1
       }
    }
}