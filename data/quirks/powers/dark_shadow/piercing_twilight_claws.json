{
    "name":"Piercing Twilight Claws",
    "description":"Dark Shadow attacks with you for extra damage. [Secondary] ยง4ยงl(Only works with Dark Shadow released)",
    "type":"origins:active_self",
    "entity_action":{
       "type":"origins:and",
       "actions":[
          {
             "type":"origins:play_sound",
             "sound":"minecraft:entity.illusioner.cast_spell",
             "volume":2.00,
             "pitch":2.00
          },
          {
             "type":"origins:action_on_entity_set",
             "set":"quirks:dark_shadow/dark_summoning_actor_set",
             "bientity_action":{
                "type":"origins:target_action",
                "action":{
                   "type":"origins:and",
                   "actions":[
                      {
                         "type":"origins:equipped_item_action",
                         "equipment_slot":"head",
                         "item_action":{
                            "type":"origins:modify",
                            "modifier":"quirks:dark_shadow/set_to_attack_model"
                         }
                      },
                      {
                        "type": "origins:delay",
                        "action": {
                            "type":"origins:equipped_item_action",
                            "equipment_slot":"head",
                            "item_action":{
                               "type":"origins:modify",
                               "modifier":"quirks:dark_shadow/set_to_idle_model"
                            }
                        },
                        "ticks": 5
                      }
                   ]
                }
             },
             "limit":1,
             "reverse":false
          },
          {
             "type":"origins:execute_command",
             "command":"execute positioned ~ ~1.8 ~ positioned ^0.25 ^ ^3 rotated ~ ~-45 run function quirks:dark_shadow/piercing_twilight_claws_particles"
          },
          {
             "type":"origins:execute_command",
             "command":"execute positioned ~ ~1.8 ~ positioned ^0.75 ^ ^3 rotated ~ ~-45 run function quirks:dark_shadow/piercing_twilight_claws_particles"
          },
          {
             "type":"origins:execute_command",
             "command":"execute positioned ~ ~1.8 ~ positioned ^-0.25 ^ ^3 rotated ~ ~-45 run function quirks:dark_shadow/piercing_twilight_claws_particles"
          },
          {
             "type":"origins:execute_command",
             "command":"execute positioned ~ ~1.8 ~ positioned ^-0.75 ^ ^3 rotated ~ ~-45 run function quirks:dark_shadow/piercing_twilight_claws_particles"
          },
          {
             "type":"origins:area_of_effect",
             "radius":15.00,
             "shape":"cube",
             "bientity_action":{
                "type":"origins:and",
                "actions":[
                   {
                      "type":"origins:damage",
                      "amount":15,
                      "damage_type":"minecraft:cramming"
                   },
                   {
                      "type":"origins:add_velocity",
                      "x":0.00,
                      "y":0.15,
                      "z":0.00,
                      "reference":"position",
                      "set":false
                   }
                ]
             },
             "bientity_condition":{
                "type":"origins:all_of",
                "conditions":[
                   {
                      "type":"origins:can_see",
                      "shape_type":"collider",
                      "fluid_handling":"none"
                   },
                   {
                      "type":"origins:in_entity_set",
                      "set":"quirks:dark_shadow/dark_summoning_actor_set",
                      "inverted":true
                   }
                ]
             },
             "include_actor":false
          }
       ]
    },
    "cooldown":40,
    "hud_render":{
       "should_render":true,
       "sprite_location":"origins:textures/gui/community/spiderkolo/resource_bar_01.png",
       "bar_index":24
    },
    "key":{
       "key":"key.origins.primary_active",
       "continuous":false
    },
    "condition":{
        "type":"origins:all_of",
        "conditions":[
           {
              "type":"origins:resource",
              "resource":"quirks:dark_shadow/move_selector_resource",
              "comparison":"==",
              "compare_to":1
           },
           {
              "type":"origins:entity_set_size",
              "set":"quirks:dark_shadow/dark_summoning_actor_set",
              "comparison":"==",
              "compare_to":1
           }
        ]
    }
}